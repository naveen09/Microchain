var microchain=angular.module("microchain",["ngMaterial","ngAnimate","ngMessages","ngAria","ui.router"]);!function(o){o.config(["$stateProvider","$urlRouterProvider",function(o,t){t.otherwise("/"),o.state("app",{url:"/",templateUrl:"partials/default.html",controller:"DefaultController"}).state("app.signup",{url:"/signup",views:{content:{templateUrl:"partials/signup.html",controller:"SignUpController",controllerAs:"vm"}}}).state("app.about",{url:"/about",views:{content:{templateUrl:"partials/about-partial.html",controller:"AboutController",controllerAs:"vm"}}}).state("app.home",{url:"/home",views:{content:{templateUrl:"partials/home-partial.html",controller:"HomeController",controllerAs:"vm"},params:{userdetails:""}}})}])}(microchain),function(o){function t(o,t){var n={},e=new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));return n.accounts=function(){var o=e.eth.accounts;console.log(o)},n.createAccount=function(o){return e.eth.personal.newAccount(o)},n}o.factory("accountService",t),t.$inject=["$state","$mdToast"]}(microchain),function(o){o.controller("AboutController",["$scope",function(o){}])}(microchain),function(o){o.controller("DefaultController",["$scope","$state","$mdDialog",function(o,t,n){o.enableLogin=!0,o.userdetails={},o.loginForm=null,o.showdefault=!0,o.logout=function(){o.enableLogin=!0,t.go("app")},o.showSignUp=function(){o.showdefault=!1,t.go("app.signup")},o.$on("showdefault",function(t,n){o.showdefault=n.message}),o.showLogin=function(e){loginForm=n.show({locals:{parentScope:o,userdetails:o.userdetails},controller:["$scope","parentScope","userdetails",function(o,t,n){o.validateLogin=function(){t.validateLogin(o.userdetails,o)},o.hideLogin=function(){t.hideLogin()}}],templateUrl:"partials/loginform.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,fullscreen:!1}).then(function(e){if(void 0==e)return void n.hide();o.enableLogin=!1,t.go("app.home",e)},function(){})},o.hideLogin=function(){n.hide()},o.validateLogin=function(e){o.enableLogin=!1,n.hide(),t.go("app.home",e)}}])}(microchain),function(o){o.controller("HomeController",["$scope","$state",function(o,t){o.logout=function(o){t.go("app")}}])}(microchain),function(o){o.controller("SignUpController",["$scope","$state","accountService",function(o,t,n){o.signupdata={},o.submit=function(o){t.go("app")},o.cancel=function(){o.$emit("showdefault",{message:!0})},o.register=function(){n.createAccount(o.signupdata.password).then(function(t){console.log("Address details: ",t),o.signupdata.address=t,o.updateAccount(o.signupdata)})},o.updateAccount=function(o){var e=n.updateAccount(o);cosole.log("Transaction success",e),t.go("app")}}])}(microchain);